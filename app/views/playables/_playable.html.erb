<%= turbo_frame_tag playable do %>
  <% content_for dom_id(playable, :inner_li).to_sym do %>
    <div class="flex-shrink-0 flex items-center justify-center w-16 bg-white text-white text-sm font-medium">
      <% if playable.listable.image.present? %>
        <%= image_tag playable.listable.image, alt: playable.title, class: "object-cover" %>
      <% end %>
    </div>
    <div class="flex-1 flex items-center justify-between <%= "h-full" if local_assigns[:link_path].present? %> border-t border-r border-b border-gray-500 bg-white truncate">
      <div class="flex-1 px-4 py-2 text-sm truncate text-left">
        <%= link_to playable.url do %>
          <%= content_tag :div, playable.title %>
          <%= content_tag :p, playable.artist, class: "text-gray-500" %>
        <% end %>
      </div>
      <div class="flex-1 pr-2 w-1/2">
        <% if playable.listable.audio_url.present? %>
          <%= audio_tag playable.listable.audio_url, controls: true, class: "w-full" %>
        <% end %>
      </div>
    </div>
  <% end %>

  <li class="col-span-1 flex shadow-sm">
    <% if local_assigns[:link_path].present? %>
      <%= button_to link_path, method: :patch, form: {data: {action: "turbo:submit-end->modal#close"}}, form_class: "w-full", class: "w-full h-full flex", params: {list: {playable_id: playable.id}} do %>
        <%= content_for dom_id(playable, :inner_li).to_sym %>
      <% end %>
    <% else %>
      <%= content_for dom_id(playable, :inner_li).to_sym %>
    <% end %>
  </li>
<% end %>
